<!DOCTYPE html>
<html>
<head>
  <meta charsetp="UTF-8">
  <meta name="viewport" content="width=device-width" />
</head>
<body bgcolor="black">
<style>#myCanvas {touch-action: none;}</style>
<canvas id="myCanvas" width="320" height="240" style="border:0px solid #d3d3d3;">
Use different browser.
</canvas>
  <script>
    var c=document.getElementById("myCanvas");
    var ctx=c.getContext("2d");
	c.addEventListener("touchend", touchHandler);
	
var map = [
		[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
		[1,1,1,1,1,1,1,1,3,3,2,3,3,1,1,1,1,1,1,1],
      [1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1],
		[1,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,0,1],
		[1,1,1,1,1,1,1,1,3,3,3,3,3,3,3,3,2,3,3,1],
		[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1],
      [1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1],
		[1,3,3,2,3,3,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
		[1,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],
		[1,0,0,2,0,0,0,0,0,9,0,0,0,0,0,0,0,0,0,1],
      [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
    ]

var tw,th;
var [camx,camy] = [0,0];

gameloop=setInterval(doGameLoop,16);

function doGameLoop(){
myCanvas.height = window.innerHeight-32;
myCanvas.width = window.innerWidth-32;
tw = Math.floor(myCanvas.width/map[0].length); 
			th = Math.floor(myCanvas.height/map.length);

			ctx.clearRect(0,0,c.width,c.height);
ctx.fillStyle="rgb(0,0,0)";
ctx.fillRect(0,0,c.width,c.height);
ctx.fillStyle="rgb(255,255,255)";
ctx.fillText("Drawing a tilemap example.",10,10); 


// Draw the tile map..
        	for(var y = 0; y < map.length; ++y) {
         for(var x = 0; x < map[y].length; ++x) {

var dx = (x*tw)+camx;
var dy = (y*th)+camy;

         	if(map[y][x]==1){
					ctx.fillStyle = 'rgb(100,100,100)';
					ctx.fillRect(dx,dy,tw,th);
				}
         	if(map[y][x]==0){
					ctx.fillStyle = 'rgb(10,4,1)';
					ctx.fillRect(dx,dy,tw,th);
				}

         }}




}





	function touchHandler(e){
		if(e.type=="touchend" && e.touches) {
		var x = e.changedTouches[0].clientX;
		
		var y = e.changedTouches[0].clientY;
		
		if(x<myCanvas.width/2){
			camx-=16;
		}
		if(x>myCanvas.width/2){
			camx+=16;
		}
			//myplayer.setdestination(e.changedTouches[0].clientX,e.changedTouches[0].clientY);
      	e.preventDefault();
		}
	}

</script>
</body>
</html>
