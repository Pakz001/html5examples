<!DOCTYPE html>
<html>
<head>
  <title>Rectangle with Border Colors</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="myCanvas"></canvas>

  <script>
    class Rectangle {
      constructor(x, y, width, height, color) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
        this.color = color;
      }

      draw(ctx) {
        // Calculate lighter and darker border colors
        const lighterColor = this.lightenColor(this.color, 20);
        const darkerColor = this.darkenColor(this.color, 20);

        // Draw the rectangle
        ctx.fillStyle = this.color;
        ctx.fillRect(this.x, this.y, this.width, this.height);

        // Draw the lighter borders on the left and top
        ctx.strokeStyle = lighterColor;
        ctx.lineWidth = 6;
        ctx.beginPath();
        ctx.moveTo(this.x, this.y + this.height);
        ctx.lineTo(this.x, this.y);
        ctx.lineTo(this.x + this.width, this.y);
        ctx.stroke();

        // Draw the darker borders on the right and bottom
        ctx.strokeStyle = darkerColor;
        ctx.beginPath();
        ctx.moveTo(this.x-6 + this.width, this.y);
        ctx.lineTo(this.x -6+ this.width, this.y-6 + this.height);
        ctx.lineTo(this.x, this.y -6+ this.height);
        ctx.stroke();
		
      }
		makeTrans(ctx){
			for (let i = 0; i < 6; i++) { 
  				this.drawRandomRoundShape(ctx,Math.random()*myCanvas.width,Math.random()*myCanvas.height,15,"black");
			}
			for (let i = 0; i < 2; i++) { 
  				this.drawRandomRoundShape(ctx,Math.random()*myCanvas.width,Math.random()*myCanvas.height,3,"white");
			}
		}
	  drawRandomRoundShape(ctx, x,y,scale = 1, fillColor = 'rgba(0, 0, 0, 1)') {
  ctx.save(); 
  ctx.globalAlpha = .1+(Math.random()/12); 
  if(fillColor=="black")ctx.globalAlpha=.3
  //if(Math.random()<.5)fillColor="white"
 // if(fillColor=="white")scale/=4
  ctx.scale(scale, scale); 
  x/=scale
  y/=scale

  const numSegments = 64; // Number of curve segments 
  //let x = Math.random() * 100;  // Start position
  //let y = Math.random() * 100;

  ctx.beginPath();
  ctx.moveTo(x, y);

  for (let i = 0; i < numSegments; i++) {
    const angle = Math.random() * Math.PI * 2;
    const radius = 70 + Math.random() * 10; // Varying radius for lengthwise shape
    const controlRadius = 20 + Math.random() * 20; // Control points for curvature
    const endX = x + radius * Math.cos(angle);
    const endY = y + radius * Math.sin(angle);

    const controlX = x + controlRadius * Math.cos(angle - Math.PI / 2);
    const controlY = y + controlRadius * Math.sin(angle - Math.PI / 2);

    ctx.bezierCurveTo(controlX, controlY, endX, endY, endX, endY);

    x = endX;
    y = endY;
  }

  ctx.fillStyle = fillColor;
  ctx.fill();
  ctx.restore(); 
}
	  
      lightenColor(color, percent) {
        const num = parseInt(color.slice(1), 16);
        const amt = Math.round(2.55 * percent);
        const R = (num >> 16) + amt;
        const G = (num >> 8 & 0x00FF) + amt;
        const B = (num & 0x0000FF) + amt;
        return `#${(0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1)}`;
      }

      darkenColor(color, percent) {
        const num = parseInt(color.slice(1), 16);
        const amt = Math.round(2.55 * percent);
        const R = (num >> 16) - amt;
        const G = (num >> 8 & 0x00FF) - amt;
        const B = (num & 0x0000FF) - amt;
        return `#${(0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1)}`;
      }
    }

    // Get the canvas element
    const myCanvas = document.getElementById('myCanvas');
    const ctx = myCanvas.getContext('2d');

    // Set the canvas size to match the window size
    myCanvas.width = window.innerWidth;
    myCanvas.height = window.innerHeight;

    // Create a new rectangle instance
    const rectangle = []
	
	for(y=0;y<myCanvas.height;y+=128){
		for(x=0;x<myCanvas.width;x+=128){
	rectangle.push(new Rectangle(x, y, 128, 128, '#406080'))
}}
	
    // Draw the rectangle on the canvas
	for(i=0;i<rectangle.length;i+=1){
    rectangle[i].draw(ctx);
	}
	rectangle[0].makeTrans(ctx)
  </script>
</body>
</html>
